{"version":3,"sources":["webpack:///webpack/bootstrap efc0b6e18e700c301a51","webpack:///./public/components/impress-asq-fork-asq-adapter/_impress-asq-fork-asq-adapter.js","webpack:///./~/bows/bows.js","webpack:///./~/bows/~/andlog/andlog.js","webpack:///./~/impress-asq-fork-asq-adapter/browser/index.js","webpack:///./~/impress-asq-fork-asq-adapter/browser/impressAsqAdapter.js","webpack:///./~/impress-asq-fork-asq-adapter/browser/thumbGenerator.js","webpack:///./~/impress-asq-fork-asq-adapter/browser/impressThumbGenerator.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,0BAAyB,cAAc;AACvC;AACA,MAAK;;AAEL;AACA;AACA,0BAAyB,cAAc;AACvC;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AChFD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,yCAAwC,QAAQ;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;;AAEzD;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;;;;;;AC1GD,wDAAuD;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;;;;;;;AC5BD;AACA;AACA;AACA;AACA;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,WAAU,OAAO;AACjB;AACA;;AAEA;AACA;AACA;AACA,WAAU,OAAO;AACjB,WAAU,OAAO;AACjB,WAAU,QAAQ;AAClB,WAAU,OAAO;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,6BAA4B;AAC5B;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA,U;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB,iFAAiF;AACzG;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,qB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;;AAEA,aAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClcA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,U;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK,E;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK,KAAK;AACV;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,Q;AACA;AACA,6BAA4B,I;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACtQA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,U;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA,MAAK,E;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK,KAAK;AACV;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA,Q;AACA;AACA,6BAA4B,I;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"impress-asq-fork-asq-adapter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap efc0b6e18e700c301a51\n **/","'use strict';\n\nvar debug = require('bows')('impress-asq-fork-asq-adapter')\nvar adapterConstructor = require('impress-asq-fork-asq-adapter').adapter;\n\nPolymer({\n  is: 'impress-asq-fork-asq-adapter', \n\n  properties: {\n    activeStep: {\n      type: String,\n      value: '',\n      notify: true,\n      reflectToAttribute: true\n    },\n\n    asqSocket: {\n      type: Object,\n      value: function() { return null;},\n      observer: 'asqSocketChanged'\n    },\n\n    slidesTree: {\n      type: Object,\n      value: function() { return null;},\n      observer: 'slidesTreeChanged'\n    },\n\n    standalone: {\n      type: Boolean,\n      value: false,\n      observer: 'standaloneChanged'\n    },\n\n    offset: {\n      type: Number,\n      value: 0,\n      observer: 'offsetChanged'\n    }\n  },\n\n  ready: function(){\n    document.addEventListener(\"impress-adapter:onGoto\", function(event){\n      this.activeStep = event.detail.step || this.activeStep;\n    }.bind(this));\n  },\n\n  asqSocketChanged: function(newSocket, oldSocket){\n    this.setAdapter();\n  },\n  slidesTreeChanged: function(newTree, oldTree){\n    this.setAdapter();\n  },\n  standaloneChanged: function(newVal, oldVal){\n    this.setAdapter();\n  },\n  offsetChanged: function(newOffset, oldOffset){\n    this.setAdapter();\n  },\n\n  goto: function(){\n     this.adapter.goto.apply(this.adapter, arguments)\n  },\n\n  prev: function(){\n    this.adapter.prev();\n  },\n\n  next: function(){\n    this.adapter.next();\n  },\n\n  setAdapter: function(){\n    if(this.asqSocket){\n      if(this.adapter){\n        this.adapter.destroy();\n      }\n      this.adapter = adapterConstructor(this.asqSocket, this.slidesTree, this.standalone, this.offset);\n    }\n  }\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./public/components/impress-asq-fork-asq-adapter/_impress-asq-fork-asq-adapter.js\n ** module id = 0\n ** module chunks = 0\n **/","(function() {\n  function checkColorSupport() {\n    if (typeof window === 'undefined' || typeof navigator === 'undefined') {\n      return false;\n    }\n    var chrome = !!window.chrome,\n        firefox = /firefox/i.test(navigator.userAgent),\n        firefoxVersion;\n\n    if (firefox) {\n        var match = navigator.userAgent.match(/Firefox\\/(\\d+\\.\\d+)/);\n        if (match && match[1] && Number(match[1])) {\n            firefoxVersion = Number(match[1]);\n        }\n    }\n    return chrome || firefoxVersion >= 31.0;\n  }\n\n  var yieldColor = function() {\n    var goldenRatio = 0.618033988749895;\n    hue += goldenRatio;\n    hue = hue % 1;\n    return hue * 360;\n  };\n\n  var inNode = typeof window === 'undefined',\n      ls = !inNode && window.localStorage,\n      debugKey = ls.andlogKey || 'debug',\n      debug = ls[debugKey],\n      logger = require('andlog'),\n      bind = Function.prototype.bind,\n      hue = 0,\n      padLength = 15,\n      noop = function() {},\n      colorsSupported = ls.debugColors || checkColorSupport(),\n      bows = null,\n      debugRegex = null,\n      invertRegex = false,\n      moduleColorsMap = {};\n\n  if (debug && debug[0] === '!' && debug[1] === '/') {\n    invertRegex = true;\n    debug = debug.slice(1);\n  }\n  debugRegex = debug && debug[0]==='/' && new RegExp(debug.substring(1,debug.length-1));\n\n  var logLevels = ['log', 'debug', 'warn', 'error', 'info'];\n\n  //Noop should noop\n  for (var i = 0, ii = logLevels.length; i < ii; i++) {\n      noop[ logLevels[i] ] = noop;\n  }\n\n  bows = function(str) {\n    var msg, colorString, logfn;\n    msg = (str.slice(0, padLength));\n    msg += Array(padLength + 3 - msg.length).join(' ') + '|';\n\n    if (debugRegex) {\n        var matches = str.match(debugRegex);\n        if (\n            (!invertRegex && !matches) ||\n            (invertRegex && matches)\n        ) return noop;\n    }\n\n    if (!bind) return noop;\n\n    var logArgs = [logger];\n    if (colorsSupported) {\n      if(!moduleColorsMap[str]){\n        moduleColorsMap[str]= yieldColor();\n      }\n      var color = moduleColorsMap[str];\n      msg = \"%c\" + msg;\n      colorString = \"color: hsl(\" + (color) + \",99%,40%); font-weight: bold\";\n\n      logArgs.push(msg, colorString);\n    }else{\n      logArgs.push(msg);\n    }\n\n    if(arguments.length>1){\n        var args = Array.prototype.slice.call(arguments, 1);\n        logArgs = logArgs.concat(args);\n    }\n\n    logfn = bind.apply(logger.log, logArgs);\n\n    logLevels.forEach(function (f) {\n      logfn[f] = bind.apply(logger[f] || logfn, logArgs);\n    });\n    return logfn;\n  };\n\n  bows.config = function(config) {\n    if (config.padLength) {\n      padLength = config.padLength;\n    }\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = bows;\n  } else {\n    window.bows = bows;\n  }\n}).call();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bows/bows.js\n ** module id = 1\n ** module chunks = 0\n **/","// follow @HenrikJoreteg and @andyet if you like this ;)\n(function () {\n    var inNode = typeof window === 'undefined',\n        ls = !inNode && window.localStorage,\n        out = {};\n\n    if (inNode) {\n        module.exports = console;\n        return;\n    }\n\n    var andlogKey = ls.andlogKey || 'debug'\n    if (ls && ls[andlogKey] && window.console) {\n        out = window.console;\n    } else {\n        var methods = \"assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn\".split(\",\"),\n            l = methods.length,\n            fn = function () {};\n\n        while (l--) {\n            out[methods[l]] = fn;\n        }\n    }\n    if (typeof exports !== 'undefined') {\n        module.exports = out;\n    } else {\n        window.console = out;\n    }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bows/~/andlog/andlog.js\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = {\n  adapter : require('./impressAsqAdapter'),\n  thumbGenerator : require('./thumbGenerator'),\n  impressThumbGenerator : require('./impressThumbGenerator')\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/impress-asq-fork-asq-adapter/browser/index.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n*  @fileoverview asqImpressAdapter.js\n*  @description  This adapter adds support to ASQ for presentations using the ASQ fork of impress.js.\n* It can work with or without an impress presenation in the page.\n*\n*  Released under the MIT and GPL Licenses.\n*\n* ------------------------------------------------\n*  author:  Vasileios Triglianos\n*  version: 0.0.1\n*  source:  http://github.com/ASQ-USI/asq-impress-asq-fork-adapter/\n*\n* Based on code from  Bartek Szopka (@bartaz) http://github.com/bartaz/\n*\n* Impress doesn't allow a lot of control over it's internals. The way this script works\n* is by overriding the 'goto', `next` and `prev` API functions with its own so that it \n* can transmit the events by sockets\n* The keyboard and click event listeners in impress use the API version of the aforementioned \n* functions so they end up using the patched versions. \n*\n* This implementation is based on a representation of steps as an Array of ids. It DOESN'T\n* support DOM elements like impress.js to be more lightweight.\n*\n* We try to match variable nomenclature | function implementation as close to impress.js\n* as possible.\n*\n*/\n\n\n/**\n* @param {Object} asqSocket an interface object to the real asq socket.\n*/\n'use strict';\n\nvar debug = require('bows')(\"asqImpressAdapter\")\n/**\n* @constuctor\n* @param {Object} asqSocket To send and receive events\n* @param {Object} slidesTree a representation of the slide tree without DOM\n* @param {boolean} standalone if present, the adapter will not patch impress\n* @param {number} offset The number of 'next' events the presentation is ahead compared to the received events. Used in presenter control for the preview\n*/\nvar asqImpressAdapter = module.exports = function(asqSocket, slidesTree, standalone, offset ){\n  standalone = standalone || false;\n  offset = offset || 0;\n  // var names follow impress\n  // similarly to impress.js we cache a patched impress API\n  var roots=[];\n  var impressPatched = false;  \n  var root = document.getElementById('impress');\n  var activeStep = null;\n  var lastHash = \"\";\n  var steps =null;\n  var allSubsteps = null;\n\n  if(slidesTree){\n    steps = slidesTree.steps\n    allSubsteps = slidesTree.allSubsteps;\n  }else{\n    allSubsteps = Object.create(null);\n\n    //generate steps array\n    var domsteps = slidesTree || document.querySelectorAll('.step');\n    steps = [].slice.call(domsteps).map(function(el, idx){\n      //this should be the same as impress.js\n      if ( !el.id ) {\n        el.id = \"step-\" + (idx + 1);\n      }\n      \n      //generate substeps Object\n      var elSubs = allSubsteps[el.id] = Object.create(null);\n      elSubs.substeps = getSubSteps(el);\n      elSubs.active = -1;\n\n      return el.id;\n    });\n  }\n\n  if(! standalone){\n    // patch impress.js when it's ready\n    patchImpress();\n  }else{\n    var firstStep = getStep(getElementFromHash()) || steps[0];\n    goto(firstStep, null, 0);\n  }\n\n  // react to goto events from sockets\n  asqSocket.onGoto(onAsqSocketGoto);\n\n  // `patchImpress` patches the impress.js api so that external scripts\n  // that use goto, next and prev go through the adapter.\n  function patchImpress(){\n    if(impressPatched) return;\n    \n    if(typeof window.impress !== 'function'){\n      document.addEventListener(\"impress:ready\", patchImpress);\n      return;\n    }\n\n    document.removeEventListener(\"impress:ready\", patchImpress);\n\n    debug(\"impress patched\");\n    var impressOrig = impress;\n\n    window.impress = function(rootId){\n      rootId = rootId || \"impress\";\n\n      // if given root is already patched just return the API\n      if (roots[\"impress-root-\" + rootId]) {\n        return roots[\"impress-root-\" + rootId];\n      }\n\n      var api = impressOrig(rootId);\n      api.prevOrig = api.prev;\n      api.nextOrig = api.next;\n      api.gotoOrig = api.goto;\n      api.prev = prev;\n      api.next = next;\n      api.goto = goto;\n\n      return  roots[\"impress-root-\" + rootId] = api;\n    }\n\n    impressPatched = true;\n\n    // START after patch had taken place\n    // by selecting step defined in url or first step of the presentation\n    goto(getElementFromHash() || steps[0], null, 0);\n  }\n\n  function onAsqSocketGoto(data){\n    if(\"undefined\" === typeof data || data === null){\n      debug(\"data is undefined or null\");\n      return;\n    }\n\n    activeStep = data.step || activeStep;\n    allSubsteps[activeStep].active = (!isNaN(data.substepIdx))\n      ? data.substepIdx \n      : -1;\n\n    var times = offset\n    while (times-- >0 ){\n      var nextState = getNext();\n      activeStep = nextState.step || activeStep;\n      allSubsteps[activeStep].active = (!isNaN(nextState.substepIdx))\n        ? nextState.substepIdx \n        : -1;\n    }\n\n    if(typeof impress === 'function'){\n      if(! impressPatched) { patchImpress() };\n        var impressActiveStep = impress().gotoOrig(activeStep, allSubsteps[activeStep].active, data.duration);\n    }\n\n    var event = document.createEvent(\"CustomEvent\");\n    event.initCustomEvent(\"impress-adapter:onGoto\", true, true, data);\n    document.dispatchEvent(event);\n  };\n\n\n  function getSubSteps(el) {\n    var steps = el.querySelectorAll(\".substep\"),\n    order = [], unordered = [];\n    Array.prototype.forEach.call(steps, function (el) {\n      if (el.dataset) {\n        var index = Number(el.dataset.order);\n        \n        if (!isNaN(index)) {\n          if (!order[index]) {\n              order[index] = el;\n          } else if (Array.isArray(order[index])) {\n              order[index].push(el);\n          } else {\n              order[index] = [order[index], el];\n          }\n        } else {\n          unordered.push(el);\n        } \n      } else {\n         unordered.push(el);\n      }\n    });\n    return order.filter(Boolean).concat(unordered);\n  };\n\n  // `getStep` is a helper function that returns a step element defined by parameter.\n  // Contrary to the actual impress.js implementation this one returns and id\n  // If a number is given, if of step with index given by the number is returned, \n  // if a string is given string is returned if it's a valid id\n  //, if DOM element is given its id is returned\n  function getStep( step ) {\n    if (typeof step === \"number\") {\n        step = step < 0 ? steps[ steps.length + step] : steps[ step ];\n    } else if (typeof step === \"string\") {\n        step = (steps.indexOf(step) > -1)? step: null\n    }else if (Element && step instanceof Element && step.id) {\n        step = step.id;\n    }\n    return step ? step : null;\n  };\n\n  // `goto` function that moves to step given with `el` parameter (ONLY id),\n  // moves to substep given with subIdx (by index),\n  // with a transition `duration` optionally given as second parameter.\n  function goto ( id, subIdx, duration ) {\n    \n    //check if we have nothing\n    if(id === null \n        || id === undefined \n        || 'string'!== typeof (id = getStep(id))){\n      if((subIdx === null || subIdx === undefined || isNaN(subIdx))){\n          return null;\n      }\n    }\n\n    //this may be a resize\n    if(activeStep == id && !subIdx){\n      return impress().gotoOrig(activeStep)\n    }\n\n    //these two should be valid\n    activeStep = id || activeStep;\n    allSubsteps[activeStep].active = (!isNaN(subIdx))\n      ? subIdx \n      : -1;\n\n    debug(\"goto #\"+ activeStep + \":\" + allSubsteps[activeStep].active);\n    asqSocket.emitGoto({step: activeStep, substepIdx: allSubsteps[activeStep].active, duration: duration})\n    return activeStep;\n  }\n\n  function prev() {\n    var subactive, substeps;\n    \n    substeps = allSubsteps[activeStep].substeps || [];\n\n    //if we have substeps deal with them first\n    if (substeps.length && ((subactive = allSubsteps[activeStep].active) || (subactive === 0))) {\n      if (subactive >=0) {\n        --subactive; \n        return goto(null, subactive)\n      }\n    }\n\n    //no substeps or we are at the first substep. Go to the previous step\n    var prev = steps.indexOf( activeStep ) - 1;\n    prev = prev >= 0 ? steps[ prev ] : steps[ steps.length-1 ];\n\n    var prevSubsteps = allSubsteps[prev].substeps || [];\n    return goto(prev, (prevSubsteps.length -1));\n  };\n\n  function next () {\n    var subactive, substeps;\n    \n    substeps = allSubsteps[activeStep].substeps || [];\n\n    // if we have substeps deal with them first\n    if (substeps.length && ((subactive = allSubsteps[activeStep].active) !== (substeps.length - 1))) {\n      if(isNaN(subactive) || (subactive==null)){\n          subactive = -1;\n      }\n      return goto(null, ++subactive);\n    }\n\n    // no substeps or substeps are over. Go to the next step\n    var next = steps.indexOf( activeStep ) + 1;\n    next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n    return goto(next, -1);\n  };\n\n  function getNext(){\n    var subactive, substeps;\n    \n    substeps = allSubsteps[activeStep].substeps || [];\n\n    // if we have substeps deal with them first\n    if (substeps.length && ((subactive = allSubsteps[activeStep].active) !== (substeps.length - 1))) {\n      if(isNaN(subactive) || (subactive==null)){\n          subactive = -1;\n      }\n      return { step: null, substepIdx: ++subactive};\n    }\n\n    // no substeps or substeps are over. Go to the next step\n    var next = steps.indexOf( activeStep ) + 1;\n    next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n    return { step: next, substepIdx: -1};\n  }\n\n  // `getElementFromHash` returns an element located by id from hash part of\n  // window location.\n  function getElementFromHash() {\n    // get id from url # by removing `#` or `#/` from the beginning,\n    // so both \"fallback\" `#slide-id` and \"enhanced\" `#/slide-id` will work\n    return window.location.hash.replace(/^#\\/?/,\"\");\n  };\n\n  function onStepEnter(event) {\n    window.location.hash = lastHash = \"#/\" + event.target.id;\n  }\n\n  function onHashChange() {\n    // When the step is entered hash in the location is updated\n    // (just few lines above from here), so the hash change is \n    // triggered and we would call `goto` again on the same element.\n    //\n    // To avoid this we store last entered hash and compare.\n    if (window.location.hash !== lastHash) {\n      goto( getElementFromHash() );\n    }\n  }\n\n  function onKeyDown(){\n    if(event.target == document.body){\n       if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  function onKeyUp(){\n    if(event.target == document.body){\n      if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {\n\n        event.preventDefault();\n\n        switch( event.keyCode ) {\n          case 33: // pg up\n          case 37: // left\n          case 38: // up\n          prev();\n          break;\n          case 9:  // tab\n          case 32: // space\n          case 34: // pg down\n          case 39: // right\n          case 40: // down\n          next();\n          break;\n        }\n      }\n    }\n  }\n\n  function onClickLink ( event ) {\n    // event delegation with \"bubbling\"\n    // check if event target (or any of its parents is a link)\n    var target = event.target;\n    while ( (target.tagName !== \"A\") &&\n      (target !== document.documentElement) ) {\n      target = target.parentNode;\n    } \n\n    if ( target.tagName === \"A\" ) {\n      var href = target.getAttribute(\"href\");\n\n      // if it's a link to presentation step, target this step\n      if ( href && href[0] === '#' ) {\n        target = href.slice(1);\n      }\n    }\n\n    if (typeof target == \"string\" && goto(target) ) {\n      event.preventDefault();\n    }\n  }\n\n  function onClickStep( event ) {\n    var target = event.target;\n      // find closest step element that is not active\n      while ( !(target.classList.contains(\"step\") && !target.classList.contains(\"active\")) &&\n        (target !== document.documentElement) ) {\n        target = target.parentNode;\n    }\n    target = target.id;\n    if ( goto(target) ) {\n      event.preventDefault();\n    }\n  }\n\n  function onTouchStart( event ) {\n    if (event.touches.length === 1) {\n      var x = event.touches[0].clientX,\n      width = window.innerWidth * 0.3,\n      result = null;\n\n      if ( x < width ) {\n        result = prev();\n      } else if ( x > window.innerWidth - width ) {\n        result = next();\n      }\n\n      if (result) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  function destroy(){\n    if(root){\n      root.removeEventListener(\"impress:stepenter\", onStepEnter);\n    }\n    \n    window.removeEventListener(\"hashchange\", onHashChange);\n\n    if(standalone){\n      document.removeEventListener('keydown', onKeyDown)\n      document.removeEventListener('keyup', onKeyUp);\n      document.removeEventListener(\"click\", onClickLink);\n      document.removeEventListener(\"click\", onClickStep);\n      document.removeEventListener(\"touchstart\", onTouchStart);\n    }\n\n    asqSocket.offGoto(onAsqSocketGoto);\n  }\n\n  if(root){\n    root.addEventListener(\"impress:stepenter\", onStepEnter, false);\n  }\n  \n  window.addEventListener(\"hashchange\", onHashChange, false);\n\n\n  if(standalone){\n    document.addEventListener('keydown', onKeyDown)\n    document.addEventListener('keyup', onKeyUp, false);\n\n    // delegated handler for clicking on the links to presentation steps\n    // in contrast to impress.js this uses id only (for goto)\n    document.addEventListener(\"click\", onClickLink, false);\n\n    // delegated handler for clicking on step elements\n    // in contrast to impress.js this uses id only (for goto)\n    document.addEventListener(\"click\", onClickStep, false);\n\n    // touch handler to detect taps on the left and right side of the screen\n    // based on awesome work of @hakimel: https://github.com/hakimel/reveal.js\n    document.addEventListener(\"touchstart\", onTouchStart, false);\n  }\n\n  return {\n    prev: prev,\n    next: next,\n    goto: goto,\n    destroy: destroy\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/impress-asq-fork-asq-adapter/browser/impressAsqAdapter.js\n ** module id = 4\n ** module chunks = 0\n **/","var debug = require('bows')(\"thumbGenerator\")\nmodule.exports = function(opts, $){\n  var impressEl = null\n    , options = opts\n    , $thumbs = $([]);\n\n\n  var resizeConf = {\n    width: \"360\",\n    height: \"240\"\n  }\n\n  // sels for thumbs and containers\n  sels = {\n    thumbContainerClass  : \"thumb\",\n    slideThumbClass : \"thumb-step\"\n  };\n\n  /** @function _validateAndSetOptions\n  *   @description: validates external options and, if valid, overrides defaults\n  */\n  function _validateAndSetOptions(options){\n    if(!options){return;}\n\n    if(options.impressEl){\n      impressEl = options.impressEl\n    }else{\n      impressEl = document;\n    }\n\n    if(options.resize){\n      if(\"undefined\" === typeof options.resize.width && \"undefined\" === typeof options.resize.width){\n        debug(\"options.resize object needs at least one of the following properties: width, height\");\n      }else if(\"undefined\" !== typeof options.resize.width && isNaN(parseInt(options.resize.width))){\n        debug(\"options.resize.width should be a number\");\n      }else if(\"undefined\" !== typeof options.resize.height && isNaN(parseInt(options.resize.height))){\n        debug(\"options.resize.height should be a number\");\n      }else{\n        resizeConf = options.resize\n      }\n    }\n\n    if(options.sels){\n      for (var key in sels){\n        if( options.sels[key]){\n          if(!(typeof options.sels[key] == \"string\")){\n            console.log(\"_validateAndSetOptions(): options.sels.\" + key + \" should be a string\")\n            return;\n          }else{\n            sels[key] = options.sels[key];\n          }\n        } \n      }\n    }\n  }\n\n  /** @function createThumb\n  *   @description: creates a clone of the original element,\n  *   appends '-clone' to the original id and removes any\n  *   classes for the cloned element and its children.\n  *   iIt also adds a data-references attribute to the referenced\n  *   step and sets the transform-origin css property.\n  */\n  function createThumb($slide){\n\n    var slide_classes = $slide[0].classList;\n    var saved_slide_classes = [];\n\n    for (var i = 0; i< slide_classes.length; i++) {\n      var c = slide_classes[i];\n      if (c.match(\"(^future|^past|^present|^active)\")) {\n        saved_slide_classes.push(c);\n      }\n    }\n\n    //remove classes\n    saved_slide_classes.forEach(function(saved_slide_class){\n      $slide.removeClass(saved_slide_class)\n    });\n    // make every slide look like its the current one\n    $slide.addClass(\"active present\")\n\n\n    var $clone = $slide.clone()\n    , cloneId = $clone.attr(\"id\")\n\n    , styles = {\n        \"-webkit-touch-callout\" : \"\",\n        \"-webkit-user-select\" : \"\",\n        \"-khtml-user-select\" : \"\",\n        \"-moz-user-select\" : \"\",\n        \"-ms-user-select\" : \"\",\n        \"user-select\" : \"\",\n        \"pointer-events\" : \"none\",\n        \"opacity\": \"1\"\n    };\n\n    $clone\n      //change id only if not empty\n      .attr(\"id\", (cloneId === undefined || cloneId == '') ? '' : cloneId + \"-clone\")\n      .attr(\"class\",sels.slideThumbClass)\n      //copy original computed style\n      .css(_css($slide))\n      .css(styles)\n      //add reference to original slide\n      .attr('data-references', $slide.attr('id'))\n    \n    //set transform orign property\n    $clone[0].style[\"-webkit-transform-origin\"] = \"0 0\";\n\n    var $cloneChildren = $clone.find('*');\n    //copy original computed style for children\n    $slide.find('*').each(function(index){\n      var id = $cloneChildren.eq(index).attr(\"id\");\n      $cloneChildren.eq(index)\n        .removeAttr(\"id\")\n        .removeAttr(\"class\")\n        //copy original computed style\n        .css(_css($(this)))\n        //add custom styles\n        .css(styles);\n    });\n\n    //revert style to original slide\n    //$slide.removeClass(\"active present\")\n    saved_slide_classes.forEach(function(saved_slide_class){\n     // $slide.addClass(saved_slide_class)\n    });   \n\n    return $clone;\n  }\n\n  /** @function resizeThumb\n  *   @description: resizes a thumbs to fit specified width and height (in pixels) or both\n  */\n  function resizeThumb($thumb, options){\n    var strategy = jQuery.extend({},resizeConf);\n    if(\"undefined\" !== typeof options){\n      if(\"undefined\" === typeof options.width && \"undefined\" === typeof options.height){\n        debug(\"options object needs at least one of the following properties: width, height\")\n      }else if(\"undefined\" !== typeof options.width && isNaN(parseInt(options.width))){\n        debug(\"options.width should be a number\")\n      }else if(\"undefined\" !== typeof options.height && isNaN(parseInt(options.height))){\n        debug(\"options.height should be a number\")\n      }else{\n        strategy = options\n      }\n    }\n \n    var scaleFactor= 1.0\n      , fixedWrapper = false;\n\n    //need to fit to the exact size\n    if(\"undefined\" !== typeof strategy.width \n      && \"undefined\" !== typeof strategy.height)\n    {\n      fixedWrapper = true;\n      var thumbContentWidth = parseInt(strategy.width)\n        , thumbContentHeight = parseInt(strategy.height)\n        , contentRatio = thumbContentWidth / thumbContentHeight\n        , thumbRatio = $thumb.outerWidth() / $thumb.outerHeight();\n\n      //thumb wrapper has defined dimensions from the strategy\n      $thumb.parent().css({\n        \"width\"  : thumbContentWidth + \"px\",\n        \"height\" : thumbContentHeight + \"px\" \n      });\n\n      // fit on width\n      if (contentRatio > thumbRatio){\n        delete strategy.height\n      }// fit on height\n      else{\n        delete strategy.width\n      }\n    }\n\n    //resize based on width\n    if(\"undefined\" !== typeof strategy.width \n      && \"undefined\" === typeof strategy.height)\n    {\n      var thumbContentWidth = parseInt(strategy.width);\n      scaleFactor =  thumbContentWidth / $thumb.outerWidth();\n    }//resize based on height\n    else {\n      var thumbContentHeight = parseInt(strategy.height);\n      scaleFactor =  thumbContentHeight / $thumb.outerHeight();\n    }\n\n    $thumb[0].style[\"-webkit-transform\"] = \"scale(\"+scaleFactor+\")\";\n    $thumb[0].style[\"transform\"] = \"scale(\"+scaleFactor+\")\";\n    \n\n    if(fixedWrapper){\n      $thumb.parent().css({\n        \"position\" : \"relative\",\n        \"overflow\" : \"hidden\"\n      })\n\n      var left = ($thumb.parent().innerWidth() - ($thumb.outerWidth()* scaleFactor ))/ 2 + \"px\";\n      var right = ($thumb.parent().innerHeight() - ($thumb.outerHeight()* scaleFactor))/ 2 + \"px\";\n\n      $thumb.css({\n        \"position\" : \"absolute\",\n        \"left\" : left,\n        \"right\" : right\n      })\n    }else{ //adjust thumb wrapper to match thumb\n      $thumb.parent().css({\n        \"width\"  : parseInt($thumb.outerWidth() * scaleFactor) + \"px\",\n        \"height\" : parseInt($thumb.outerHeight() * scaleFactor) + \"px\" \n      });\n      $thumb.css({\n        \"position\" : \"relative\",\n        \"left\" : \"0px\",\n        \"right\" : \"0px\"\n      })\n    }\n\n\n\n  }\n\n  /** @function _css\n  *   @description: Gets the computed styles of an element and returns\n  *   key value pair of rules (compatible with jQuery)\n  */\n  function _css(a){\n      var rules = window.getComputedStyle(a.get(0));\n      return _css2json(rules);\n  }\n\n  /** @function _css2json\n  *   @description: Converts CSSStyleDeclaration objects or css rules\n  *   in string format to key value pairs (compatible with jQuery)\n  */\n  function _css2json(css){\n      var s = {};\n      if(!css) return s;\n      if(css instanceof CSSStyleDeclaration) {\n          for(var i in css) {\n            if(!css[i]) {break;}\n              if((css[i]).toLowerCase) {\n                  s[(css[i]).toLowerCase()] = (css[css[i]]);\n              }\n          }\n      } \n      else if(typeof css == \"string\") {\n          css = css.split(\"; \");          \n          for (var i in css) {\n              var l = css[i].split(\": \");\n              s[l[0].toLowerCase()] = (l[1]);\n          };\n      }\n      return s;\n  }\n\n  // Public API\n  return {\n    createThumb : createThumb,\n    resizeThumb : resizeThumb\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/impress-asq-fork-asq-adapter/browser/thumbGenerator.js\n ** module id = 5\n ** module chunks = 0\n **/","var debug = require('bows')(\"impressThumbGenerator\")\nmodule.exports = function(opts){\n  var impressEl = null\n    , options = opts\n    , thumbs = [];\n\n\n  var resizeConf = {\n    width: \"360\",\n    height: \"240\"\n  }\n\n  // sels for thumbs and containers\n  sels = {\n    thumbContainerClass  : \"thumb\",\n    slideThumbClass : \"thumb-step\"\n  };\n\n  /** @function _validateAndSetOptions\n  *   @description: validates external options and, if valid, overrides defaults\n  */\n  function _validateAndSetOptions(options){\n    if(!options){return;}\n\n    if(options.impressEl){\n      impressEl = options.impressEl\n    }else{\n      impressEl = document;\n    }\n\n    if(options.resize){\n      if(\"undefined\" === typeof options.resize.width && \"undefined\" === typeof options.resize.width){\n        debug(\"options.resize object needs at least one of the following properties: width, height\");\n      }else if(\"undefined\" !== typeof options.resize.width && isNaN(parseInt(options.resize.width))){\n        debug(\"options.resize.width should be a number\");\n      }else if(\"undefined\" !== typeof options.resize.height && isNaN(parseInt(options.resize.height))){\n        debug(\"options.resize.height should be a number\");\n      }else{\n        resizeConf = options.resize\n      }\n    }\n\n    if(options.sels){\n      for (var key in sels){\n        if( options.sels[key]){\n          if(!(typeof options.sels[key] == \"string\")){\n            console.log(\"_validateAndSetOptions(): options.sels.\" + key + \" should be a string\")\n            return;\n          }else{\n            sels[key] = options.sels[key];\n          }\n        } \n      }\n    }\n  }\n\n  /** @function createThumb\n  *   @description: creates a clone of the original element,\n  *   appends '-clone' to the original id and removes any\n  *   classes for the cloned element and its children.\n  *   iIt also adds a data-references attribute to the referenced\n  *   step and sets the transform-origin css property.\n  */\n  function createThumb(slide){\n\n    var slide_classes = slide.classList;\n    var saved_slide_classes = [];\n\n    for (var i = 0; i< slide_classes.length; i++) {\n      var c = slide_classes[i];\n      if (c.match(\"(^future|^past|^present|^active)\")) {\n        saved_slide_classes.push(c);\n      }\n    }\n\n    //remove classes\n    saved_slide_classes.forEach(function removeClasses(saved_slide_class){\n      slide.classList.remove(saved_slide_class)\n    });\n    // make every slide look like its the current one\n    slide.classList.add(\"active\");\n    slide.classList.add(\"present\");\n\n    var clone = slide.cloneNode(true)\n    , cloneId = clone.id\n\n    , styles = {\n        \"-webkit-touch-callout\" : \"\",\n        \"-webkit-user-select\" : \"\",\n        \"-khtml-user-select\" : \"\",\n        \"-moz-user-select\" : \"\",\n        \"-ms-user-select\" : \"\",\n        \"user-select\" : \"\",\n        \"pointer-events\" : \"none\",\n        \"opacity\": \"1\"\n    };\n\n    //change id only if not empty\n    clone.id = (cloneId === undefined || cloneId == '') \n      ? '' \n      : cloneId + \"-clone\";\n    clone.classList.add(sels.slideThumbClass);\n\n    //copy original computed style\n    setStylesFromObject(clone, _css(slide));\n    setStylesFromObject(clone, styles);\n\n    //add reference to original slide\n    clone.dataset.references = slide.id;\n    \n    //set transform orign property\n    clone.style[\"-webkit-transform-origin\"] = \"0 0\";\n\n    var cloneChildren = clone.querySelectorAll('*').array();\n    //copy original computed style for children\n    slide.querySelectorAll('*').array().forEach(function copyComputedStyleForChildren(el , index){\n\n      var child = cloneChildren[index];\n      var id = child.id;\n      child.removeAttribute('id');\n      child.removeAttribute('class');\n\n       //copy original computed style\n      setStylesFromObject(child, _css(el));\n      setStylesFromObject(child, styles)\n\n    });\n\n    //revert style to original slide\n    saved_slide_classes.forEach(function revertStyles(saved_slide_class){\n\n    });   \n\n    return clone;\n  }\n\n  /** @function resizeThumb\n  *   @description: resizes a thumbs to fit specified width and height (in pixels) or both\n  */\n  function resizeThumb(thumb, options){\n    //copy resizeConf\n    var strategy = JSON.parse(JSON.stringify(resizeConf))\n    if(\"undefined\" !== typeof options){\n      if(\"undefined\" === typeof options.width && \"undefined\" === typeof options.height){\n        debug(\"options object needs at least one of the following properties: width, height\")\n      }else if(\"undefined\" !== typeof options.width && isNaN(parseInt(options.width))){\n        debug(\"options.width should be a number\")\n      }else if(\"undefined\" !== typeof options.height && isNaN(parseInt(options.height))){\n        debug(\"options.height should be a number\")\n      }else{\n        strategy = options\n      }\n    }\n \n    var scaleFactor= 1.0\n      , fixedWrapper = false;\n\n    //need to fit to the exact size\n    if(\"undefined\" !== typeof strategy.width \n      && \"undefined\" !== typeof strategy.height)\n    {\n      fixedWrapper = true;\n      var thumbContentWidth = parseInt(strategy.width)\n        , thumbContentHeight = parseInt(strategy.height)\n        , contentRatio = thumbContentWidth / thumbContentHeight\n        , thumbRatio = thumb.offsetWidth / thumb.offsetHeight;\n\n      //thumb wrapper has defined dimensions from the strategy\n      setStylesFromObject(thumb.parentNode, {\n        \"width\"  : thumbContentWidth + \"px\",\n        \"height\" : thumbContentHeight + \"px\" \n      });\n\n      // fit on height\n      if (contentRatio > thumbRatio){\n        delete strategy.width\n      }// fit on width\n      else{\n        delete strategy.height\n      }\n    }\n\n    //resize based on width\n    if(\"undefined\" !== typeof strategy.width \n      && \"undefined\" === typeof strategy.height)\n    {\n      var thumbContentWidth = parseInt(strategy.width);\n      scaleFactor =  thumbContentWidth / thumb.offsetWidth;\n    }//resize based on height\n    else {\n      var thumbContentHeight = parseInt(strategy.height);\n      scaleFactor =  thumbContentHeight / thumb.offsetHeight;\n    }\n\n    thumb.style[\"-webkit-transform\"] = \"scale(\"+scaleFactor+\")\";\n    thumb.style[\"transform\"] = \"scale(\"+scaleFactor+\")\";\n    \n\n    if(fixedWrapper){\n      setStylesFromObject(thumb.parentNode, {\n        \"position\" : \"relative\",\n        \"overflow\" : \"hidden\"\n      })\n\n      var top = (thumb.parentNode.clientHeight - (thumb.offsetHeight* scaleFactor))/ 2 + \"px\";\n      var left = (thumb.parentNode.clientWidth - (thumb.offsetWidth* scaleFactor ))/ 2 + \"px\";\n\n      setStylesFromObject(thumb, {\n        \"position\" : \"absolute\",\n        \"top\" : top,\n        \"left\" : left\n      })\n    }else{ //adjust thumb wrapper to match thumb\n      setStylesFromObject(thumb.parentNode, {\n        \"width\"  : parseInt(thumb.offsetWidth * scaleFactor) + \"px\",\n        \"height\" : parseInt(thumb.offsetHeight * scaleFactor) + \"px\" \n      });\n      setStylesFromObject(thumb, {\n        \"position\" : \"relative\",\n        \"top\" : \"0px\",\n        \"left\" : \"0px\"\n      })\n    }\n\n\n\n  }\n\n  /** @function setStylesFromObject\n  *   @description: Sets style properties in an element as defined in an object\n  *   with key-value pairs of rules (compatible with jQuery)\n  */\n  function setStylesFromObject(el, cssObj){\n    Object.keys(cssObj).forEach(function setStyleFromObject(key){\n      el.style[key] = cssObj[key];\n    });\n  }\n\n  /** @function _css\n  *   @description: Gets the computed styles of an element and returns\n  *   key-value pairs of rules (compatible with jQuery)\n  */\n  function _css(el){\n      var rules = window.getComputedStyle(el);\n      return _css2json(rules);\n  }\n\n  /** @function _css2json\n  *   @description: Converts CSSStyleDeclaration objects or css rules\n  *   in string format to key-value pairs (compatible with jQuery)\n  */\n  function _css2json(css){\n      var s = {};\n      if(!css) return s;\n      if(css instanceof CSSStyleDeclaration) {\n          for(var i in css) {\n            if(!css[i]) {break;}\n              if((css[i]).toLowerCase) {\n                  s[(css[i]).toLowerCase()] = (css[css[i]]);\n              }\n          }\n      } \n      else if(typeof css == \"string\") {\n          css = css.split(\"; \");          \n          for (var i in css) {\n              var l = css[i].split(\": \");\n              s[l[0].toLowerCase()] = (l[1]);\n          };\n      }\n      return s;\n  }\n\n  // Public API\n  return {\n    createThumb : createThumb,\n    resizeThumb : resizeThumb\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/impress-asq-fork-asq-adapter/browser/impressThumbGenerator.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}