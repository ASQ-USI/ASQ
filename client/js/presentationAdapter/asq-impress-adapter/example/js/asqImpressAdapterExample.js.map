{"version":3,"sources":["webpack:///webpack/bootstrap f02691297aabfdb38299","webpack:///./example.js","webpack:///./asqSocketMock.js","webpack:///./asqImpressAdapter.js","webpack:///./~/bows/bows.js","webpack:///./~/bows/~/andlog/andlog.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,wC;;;;;;;ACtCA;;AAEA;AACA,gCAAwB,gBAAgB;;AAExC;AACA;AACA,iD;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,WAAU,OAAO;AACjB;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,WAAU,OAAO;AACjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB,qCAAqC;AAC7D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,M;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;;;;;;ACxOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,yCAAwC,QAAQ;AAChD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD;;AAEzD;;AAEA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA,EAAC;;;;;;;ACxFD,wDAAuD;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f02691297aabfdb38299\n **/","// this is the entry for the ./example/js/asq-impress-adapter.js script\n\n//congig logger\nrequire('bows').config({ padLength: 18 })\n\n//fun starts here\nvar asqSocket = require('./asqSocketMock');\nvar adapter = require('./asqImpressAdapter')(asqSocket);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./example.js\n ** module id = 0\n ** module chunks = 0\n **/","/**\n*  @fileoverview asqSocketMock.js\n*  @description  Mimics the interface of an asqSocket interface. When a goto event is sent\n* it is immediately received and the onGoto callback is called\n*\n*  Released under the MIT and GPL Licenses.\n*\n* ------------------------------------------------\n*  author:  Vasileios Triglianos\n*  version: 0.0.1\n*  source:  http://github.com/ASQ-USI/asq-impress-adapter/\n*\n*/\n\n\n/**\n* @param {Object} asqSocket an interface object to the real asq socket.\n*/\n\nvar debug = require('bows')(\"asqSocketMock\")\nvar onGotoCb = null;\n\nvar receiveData = function(data){\n debug(\"Received goto data:\", data);\n  \n  if(onGotoCb){\n    debug(\"Calling callback\");\n    onGotoCb.call(null, data);\n  }\n}\n\nmodule.exports.onGoto = function(cb){\n  if(\"function\" !== typeof cb){\n    throw new Error(\"cb should be a function\")\n  }\n  onGotoCb = cb;\n}\n\nmodule.exports.emitGoto = function(data){\n debug(\"Emitting goto data:\", data);\n  receiveData(data);\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./asqSocketMock.js\n ** module id = 1\n ** module chunks = 0\n **/","/**\n*  @fileoverview asqImpressAdapter.js\n*  @description  This adapter adds impress.js presentation support to ASQ\n*\n*  Released under the MIT and GPL Licenses.\n*\n* ------------------------------------------------\n*  author:  Vasileios Triglianos\n*  version: 0.0.1\n*  source:  http://github.com/ASQ-USI/asq-impress-adapter/\n*\n* Based on code from  Bartek Szopka (@bartaz) http://github.com/bartaz/\n*\n* Impress doesn't allow a lot of control over it's internals. The way this script works\n* is by registering listeners for the same events as impress.js and blocking\n* subsequent listeners per event type. \n*\n* This implementation is based on a representation of steps as an Array of ids. It DOESN'T\n* support DOM elements like impress.js to be more lightweight.\n*\n* We try to match variable nomenclature | function implementation as close to impress.js\n* as possible.\n*\n* IMPORTANT: make sure this script is executed before impress so that the listeneners of the\n* adpater are register FIRST.\n*\n*/\n\n\n/**\n* @param {Object} asqSocket an interface object to the real asq socket.\n*/\n\nvar debug = require('bows')(\"asqImpressAdapter\")\ndebug(\"data is undefined or null\");\nmodule.exports = impressAdapter = function(asqSocket){\n\n  function isDebugModeOn(){\n    return ((\"undefined\" !== typeof window.debug)? window.debug : false);\n  }\n\n  var domsteps = document.querySelectorAll('.step');\n\n  asqSocket.onGoto(function(data){\n    if(\"undefined\" === typeof data || data === null){\n      debug(\"data is undefined or null\");\n      return;\n    }\n    if(\"undefined\" === typeof data.step || data.step === null){\n      debug(\"data.step is undefined or null\");\n      return;\n    }\n\n    if(\"undefined\" !== typeof impress && typeof impress === 'function'){\n      var impressActiveStep = impress().goto(data.step, data.duration)\n      // in contrast to impress we return the just the id\n      if (impressActiveStep){\n          activeStep = impressActiveStep.id\n      }\n    }\n  })\n\n  //varnames follow impress\n  var activeStep = null;\n  var lastHash = \"\";\n  var steps = [].slice.call(domsteps).map(function(el, idx){\n    //this should be the same as impress.js\n    if ( !el.id ) {\n      el.id = \"step-\" + (idx + 1);\n    }\n    return el.id;\n  })\n\n  // `goto` function that moves to step given with `el` parameter (ONLY id),\n  // with a transition `duration` optionally given as second parameter.\n  var goto = function ( id, duration ) {\n    if('string'!== typeof id || steps.indexOf(id) < 0 ){\n      return null;\n    }\n\n    activeStep = id;\n    if(isDebugModeOn()){\n      console.debug(\"asqImpressAdapter:goto #\"+ activeStep);\n    }\n    asqSocket.emitGoto({step: activeStep, duration: duration})\n    return activeStep;\n    // if(\"undefined\" !== typeof impress && typeof impress === 'function'){\n\n      // var impressActiveStep = impress().goto(id, duration)\n      // // in contrast to impress we return the just the id\n      // if (impressActiveStep){\n      //     activeStep = impressActiveStep.id\n      //     return activeStep;\n      // }\n    // }\n    //return null;\n  }\n\n  // `prev` API function goes to previous step (in document order)\n  var prev = function () {\n    var prev = steps.indexOf( activeStep ) - 1;\n    prev = prev >= 0 ? steps[ prev ] : steps[ steps.length-1 ];\n\n    return goto(prev);\n  };\n\n  // `next` API function goes to next step (in document order)\n  var next = function () {\n    var next = steps.indexOf( activeStep ) + 1;\n    next = next < steps.length ? steps[ next ] : steps[ 0 ];\n\n    return goto(next);\n  };\n\n  // `getElementFromHash` returns an element located by id from hash part of\n  // window location.\n  var getElementFromHash = function () {\n    // get id from url # by removing `#` or `#/` from the beginning,\n    // so both \"fallback\" `#slide-id` and \"enhanced\" `#/slide-id` will work\n    return window.location.hash.replace(/^#\\/?/,\"\");\n  };\n\n  document.getElementById('impress').addEventListener(\"impress:stepenter\", function (event) {\n    window.location.hash = lastHash = \"#/\" + event.target.id;\n  }, false);\n\n  window.addEventListener(\"hashchange\", function () {\n    // When the step is entered hash in the location is updated\n    // (just few lines above from here), so the hash change is \n    // triggered and we would call `goto` again on the same element.\n    //\n    // To avoid this we store last entered hash and compare.\n    if (window.location.hash !== lastHash) {\n      goto( getElementFromHash() );\n    }\n  }, false);\n\n  // START \n  // by selecting step defined in url or first step of the presentation\n  goto(getElementFromHash() || steps[0], 0);\n\n  document.addEventListener('keydown', function(){\n     if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {\n      event.preventDefault();\n      event.stopImmediatePropagation();\n    }\n  })\n\n  document.addEventListener('keyup', function(){\n    if ( event.keyCode === 9 || ( event.keyCode >= 32 && event.keyCode <= 34 ) || (event.keyCode >= 37 && event.keyCode <= 40) ) {\n\n      event.preventDefault();\n      event.stopImmediatePropagation();\n\n      switch( event.keyCode ) {\n        case 33: // pg up\n        case 37: // left\n        case 38: // up\n        prev();\n        break;\n        case 9:  // tab\n        case 32: // space\n        case 34: // pg down\n        case 39: // right\n        case 40: // down\n        next();\n        break;\n      }\n    }\n  },false);\n\n  // delegated handler for clicking on the links to presentation steps\n  // in contrast to impress.js this uses id only (for goto)\n  document.addEventListener(\"click\", function ( event ) {\n    // event delegation with \"bubbling\"\n    // check if event target (or any of its parents is a link)\n    var target = event.target;\n    while ( (target.tagName !== \"A\") &&\n      (target !== document.documentElement) ) {\n      target = target.parentNode;\n    } \n\n    if ( target.tagName === \"A\" ) {\n      var href = target.getAttribute(\"href\");\n\n      // if it's a link to presentation step, target this step\n      if ( href && href[0] === '#' ) {\n        target = href.slice(1);\n      }\n    }\n\n    if (typeof target == \"string\" && goto(target) ) {\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    }\n  }, false);\n\n  // delegated handler for clicking on step elements\n  // in contrast to impress.js this uses id only (for goto)\n  document.addEventListener(\"click\", function ( event ) {\n    var target = event.target;\n      // find closest step element that is not active\n      while ( !(target.classList.contains(\"step\") && !target.classList.contains(\"active\")) &&\n        (target !== document.documentElement) ) {\n        target = target.parentNode;\n    }\n    target = target.id;\n    if ( goto(target) ) {\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    }\n  }, false);\n\n  // touch handler to detect taps on the left and right side of the screen\n  // based on awesome work of @hakimel: https://github.com/hakimel/reveal.js\n  document.addEventListener(\"touchstart\", function ( event ) {\n    if (event.touches.length === 1) {\n      var x = event.touches[0].clientX,\n      width = window.innerWidth * 0.3,\n      result = null;\n\n      if ( x < width ) {\n        result = prev();\n      } else if ( x > window.innerWidth - width ) {\n        result = next();\n      }\n\n      if (result) {\n        event.preventDefault();\n      }\n    }\n  }, false);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./asqImpressAdapter.js\n ** module id = 2\n ** module chunks = 0\n **/","(function() {\n  function checkColorSupport() {\n    var chrome = !!window.chrome,\n        firefox = /firefox/i.test(navigator.userAgent),\n        firefoxVersion;\n\n    if (firefox) {\n        var match = navigator.userAgent.match(/Firefox\\/(\\d+\\.\\d+)/);\n        if (match && match[1] && Number(match[1])) {\n            firefoxVersion = Number(match[1]);\n        }\n    }\n    return chrome || firefoxVersion >= 31.0;\n  }\n\n  var yieldColor = function() {\n    var goldenRatio = 0.618033988749895;\n    hue += goldenRatio;\n    hue = hue % 1;\n    return hue * 360;\n  };\n\n  var inNode = typeof window === 'undefined',\n      ls = !inNode && window.localStorage,\n      debugKey = ls.andlogKey || 'debug',\n      debug = ls[debugKey],\n      logger = require('andlog'),\n      bind = Function.prototype.bind,\n      hue = 0,\n      padLength = 15,\n      noop = function() {},\n      colorsSupported = ls.debugColors || checkColorSupport(),\n      bows = null,\n      debugRegex = null,\n      moduleColorsMap = {};\n\n  debugRegex = debug && debug[0]==='/' && new RegExp(debug.substring(1,debug.length-1));\n\n  var logLevels = ['log', 'debug', 'warn', 'error', 'info'];\n\n  //Noop should noop\n  for (var i = 0, ii = logLevels.length; i < ii; i++) {\n      noop[ logLevels[i] ] = noop;\n  }\n\n  bows = function(str) {\n    var msg, colorString, logfn;\n    msg = (str.slice(0, padLength));\n    msg += Array(padLength + 3 - msg.length).join(' ') + '|';\n\n    if (debugRegex && !str.match(debugRegex)) return noop;\n\n    if (!bind) return noop;\n\n    if (colorsSupported) {\n      if(!moduleColorsMap[str]){\n        moduleColorsMap[str]= yieldColor();\n      }\n      var color = moduleColorsMap[str];\n      msg = \"%c\" + msg;\n      colorString = \"color: hsl(\" + (color) + \",99%,40%); font-weight: bold\";\n\n      logfn = bind.call(logger.log, logger, msg, colorString);\n\n      logLevels.forEach(function (f) {\n        logfn[f] = bind.call(logger[f] || logfn, logger, msg, colorString);\n      });\n    } else {\n      logfn = bind.call(logger.log, logger, msg);\n      logLevels.forEach(function (f) {\n        logfn[f] = bind.call(logger[f] || logfn, logger, msg);\n      });\n    }\n\n    return logfn;\n  };\n\n  bows.config = function(config) {\n    if (config.padLength) {\n      padLength = config.padLength;\n    }\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = bows;\n  } else {\n    window.bows = bows;\n  }\n}).call();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bows/bows.js\n ** module id = 3\n ** module chunks = 0\n **/","// follow @HenrikJoreteg and @andyet if you like this ;)\n(function () {\n    var inNode = typeof window === 'undefined',\n        ls = !inNode && window.localStorage,\n        out = {};\n\n    if (inNode) {\n        module.exports = console;\n        return;\n    }\n\n    var andlogKey = ls.andlogKey || 'debug'\n    if (ls && ls[andlogKey] && window.console) {\n        out = window.console;\n    } else {\n        var methods = \"assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn\".split(\",\"),\n            l = methods.length,\n            fn = function () {};\n\n        while (l--) {\n            out[methods[l]] = fn;\n        }\n    }\n    if (typeof exports !== 'undefined') {\n        module.exports = out;\n    } else {\n        window.console = out;\n    }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/bows/~/andlog/andlog.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":"","file":"asqImpressAdapterExample.js"}