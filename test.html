<!DOCTYPE html>
<head>
	<script  src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
	<script>
		$("#test").html("dslkhxv");
	</script>

	</style>
	<script >
		var data = [
		{	_id: 1,
		name: "atest",
		course: "MyCourse",
		date:  new Date("October 13, 1976 11:13:00")},
		{	_id: 2,
		name: "btest",
		course: "MyCourse",
		date:  new Date("October 13, 1977 11:13:00")},
		{	_id: 3,
		name: "aatest",
		course: "MyCourse",
		date:  new Date("October 13, 1977 11:13:00")},
		{	_id: 4,
		name: "abtest",
		course: "MyCourse2",
		date:  new Date("October 13, 1977 11:13:00")},
		{	_id: 5,
		name: "abctest",
		course: "MyCourse2",
		date:  new Date("October 13, 1978 11:13:00")},
		{	_id: 6,
		name: "actest",
		course: "MyCourse2",
		date:  new Date("October 13, 1979 11:13:00")},
		{	_id: 7,
		name: "adtest",
		course: "MyCourse2",
		date:  new Date("October 13, 1985 11:13:00")},
		{ _id: 8,
		name: "adtest",
		course: "MyCourse3",
		date:  new Date("October 13, 1995 11:13:00"
		)},
		];


		function getCourses(array){
			var result = [];
			for(var i = 0; i < array.length; i++){
				if(result.indexOf(array[i].course) == -1){
					if(result.indexOf(array[i].course) == ""){
						result.push("Unnamed course");
					}else{
						result.push(array[i].course);
					}
				} 
			}
			return result;
		}
		
		function getThumbHTML(id, name, lastSession, lastEdit){
			var html = '<div class="span3">'
					+'<div class="thumb" >'
					+	'<div class="info" >'
					+		'<div class="bg" style="background-image: url("/thumbs/'+id+'-thumb.png"")"></div>'
					+		'<h4>'+name+'</h4>'
					+	'</div>'

					+	'<div class="buttons">'
					+		'<a href="start/{_id}" class="btn btn-primary hidden-phone"><i class="icon-play icon-white"> </i> Start Presentation</a>'
					+		'<a href="statistics?id={_id}" class="btn btn-info"><i class="icon-signal icon-white"> </i> Show Statistics</a>'
					+		'<a href="edit?id={_id}" class="btn btn-success"><i class="icon-pencil icon-white"> </i> Edit Presentation</a>'
					+		'<div class="dates">'

					+			'<p>'
					+				'<i class="icon-play"></i>'+lastSession
					+			'</p>'
					+			'<p>'
					+				'<i class="icon-pencil" ></i> '+lastEdit
					+			'</p>'
					+		'</div>'
					+	'</div>'
					+'</div>'
				+ '</div>';
				return html;
		}
		
		function make(data, sort){
			var courses = getCourses(data);
			console.log(courses);
			
			if(sort == "date"){
				
			} else {
				/*Iterate over all existing courses*/
				for(var i = 0; i <courses.length; i++){
					/*create div for new course*/
					console.log("add course " +courses[i]);
					$('.test').append('<div class="row"><div class="span12  headline"><h2 class="pull-left">'+ courses[i]+'</h2></div></div>');
					$('.test').append('<div class="row course-'+courses[i]+'"></div>');
					
					/*for every slideshow that mataches course*/
					for(var j = 0; j < data.length; j++){
						if(data[j].course === courses[i]){
							console.log(";lkjhgfdfghj");
							$('.course-' + courses[i]).append(getThumbHTML("1223", data[j].name, "ad", "vs"));
						}
					}
				}			
			}
			
		}
		
		make(data, "course");
	</script>

</head>
<body>
<h1 id="myHeader">Hello World!</h1>
	<div id="test">
		g
		
	</div>
</body>
</html>
