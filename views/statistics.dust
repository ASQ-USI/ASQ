<!DOCTYPE html>
<html lang="en">
  <head>
    {>htmlHead/}
    <title>ASQ - Statistics of {title}</title>

    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>

  </head>

  <body>

    <!---   top menu --->
    {>menu/}

    <!---   Content area   --->
    <div class="container" id="mainContainer">

      <!--- Edit menu --->
      <div class="row" >
        <div class="span12 headline">
          <h3 class="pull-left">Statistics of {title}</h3>
          <form class="pull-right controls edit">
            <select id="session">
              <option value="null">Choose session</option>
              {#session} <option value="{sessionId}">{time}</option>{/session}
            </select>
          </form>
        </div>
      </div>

      <div class="row">
        <div class="span3" data-spy="affix" data-offset-top="00">
          <ul class="nav nav-tabs nav-stacked showNumber">
            {#questions}
            <li>
              <a href="#{questionId}">{text}</a>
            </li>
            {/questions}
          </ul>
        </div>
        <div class="span9 pull-right">
          {#questions}
          <div class="row stats" id="{questionId}" data-target-assessment-id={questionId}>
            <div class="span9">
              <h2>{text}</h2>
            </div>

            <div class="span9">
              <ul class="nav nav-tabs">
                <li class="active">
                  <a href="#answersolutions-{questionId}"  data-toggle="tab">Correct Answer</a>
                </li>
                <li>
                  <a href="#rvsw-{questionId}" data-toggle="tab">Right vs. Wrong</a>
                </li>
                <li>
                  <a href="#mscstats-{questionId}" data-toggle="tab">Multiple Choice Statistics</a>
                </li>
                <li>
                  <a href="#diffAns-{questionId}" data-toggle="tab">Different answers</a>
                </li>
              </ul>

              <div class="tab-content">

                <!--  Displays correct solution -->
                <div class="tab-pane active" id='answersolutions-{questionId}'>
                  <p>
                    <strong>{text}</strong>
                  </p>
                  {>"asq-render/questionList-stats.dust"/}
                  {?question.correctAnswer}
                  <p>
                    Solution: {question.correctAnswer}
                  </p>
                  <br/>
                  {/question.correctAnswer}
                </div>

                <!-- Displays Pie-Chart Right vs. Wrong -->
                <div class="tab-pane" id="rvsw-{questionId}">
                  <div id="rvswChart-{questionId}" class="rvswChart-{questionId}" style="width: 100%; height: 500px;"></div>
                </div>

                <!-- Display multiple choice stats -->
                <div class="tab-pane" id="mscstats-{questionId}">
                  <div id="mscstatChart-{questionId}" class="distinctAnswers-{questionId}" style="height:500px"></div>
                </div>

                <!-- Display different aswers  -->
                <div class="tab-pane" id="diffAns-{questionId}">
                  <div id="diffAnsChart-{questionId}" class="distinctOptions-{questionId}" style="height:500px"></div>
                </div>
              </div>
            </div>
          </div>
          {/questions}

        </div>
      </div>

    </div>
    <!-- /container -->

    <!-- Le javascript --->

    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/statistics.js"></script>
  </body>
</html>
