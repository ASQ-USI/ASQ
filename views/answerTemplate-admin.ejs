<!DOCTYPE html>
<html lang="en">
	<head>
		<title>ASQ - My Presentations</title>
		
		<link href="/css/bootstrap.min.css" rel="stylesheet" media="screen">

		<link rel="stylesheet/less" type="text/css" href="/css/backend.less">
		<script src="/js/less-1.3.1.min.js" type="text/javascript"></script>
		<script src="http://code.jquery.com/jquery-latest.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="https://www.google.com/jsapi"></script>
		<style>
			.modal {
			  width: 800px;
			  margin-left:-400px;
			  max-height: 600px;
			}
			.modal-body{
			
			}
			
		</style>
	 
	 <script type="text/javascript">
		google.load("visualization", "1", {
			packages : ["corechart"]
		});
		var correct = null;
		var countedMcOptions = null;

		function drawChart() {
			var data = google.visualization.arrayToDataTable(countedMcOptions);
			var q1correct = google.visualization.arrayToDataTable(correct);
			console.log(data);

			var options3 = {
				title : 'Correct vs. Wrong',
				'width':760,
                'height':300,
                
			};
			
			var options2 = {
	       	  animation: {duration: 1000},
	          hAxis: {allowContainerBoundaryTextCufoff: true, slantedTextAngle: 50},
	          'width':760,
              'height':300,
              'legend': {position: 'top', textStyle: { fontSize: 16}}
	        };

			var chart3 = new google.visualization.PieChart(document.getElementById('Q1Correct'));
			chart3.draw(q1correct, options3);
			
			var chart = new google.visualization.ColumnChart(document.getElementById('q'));
			chart.draw(data, options2);
		}


		$.getJSON('/stats/50cade3a56b9801502000009/', function(data) {

			correct = data.correct;
			countedMcOptions = data.countedMcOptions;
			console.log(countedMcOptions);
			google.setOnLoadCallback(drawChart);

		});

		</script>
		
	</head>
	<body>
	
		<div class="modal hide fade" id="quest">
			<div class="modal-header">
				<h3>Statistics for</h3>
				<h4>"<%= questionObj.questionText %>"</h4>
			</div>
			
			<div class="modal-body">
				
				<ul class="nav nav-tabs" id="myTab">
				  <li class="active"><a href="#correct"  data-toggle="tab">Correct Answer</a></li>
				  <li><a href="#rvsw" data-toggle="tab">Right vs. Wrong</a></li>
				  <li><a href="#mscstats" data-toggle="tab">Multiple Choice Statistics</a></li>
				  
				</ul>
				 
				<div class="tab-content">
				  <div class="tab-pane active" id="correct">
				  	
				  	<!--- Multiple choice question --->
							<% if(questionObj.questionType == "Multiple choice"){ %>	
								<% for(var i=0; i<arrayoptions.length; i++){ %>
									<label class="checkbox" >
								      	<% if(arrayoptions[i].correct == "true") { %>
								      		<i class="icon-ok"> </i> 
								      	<% } else {%>
								      		<i class="icon-remove"> </i> 
								      	<% } %>
								      	
								      	<%= arrayoptions[i].optionText %>
							      	</label>
							      <% } %>			      	
							 <% } %>
							
							<!--- Text input questions ---->
							<% if(questionObj.questionType == "Text input"){ %>	
								<span class="help-block">Please enter your solution. Capitalisation will be ignored.</span>	
								<input type="text" placeholder="Your solution...">
							<% } %>
				  	
				  </div>
				  <div class="tab-pane" id="rvsw">
				  	
				  	 <div id="Q1Correct"></div>
				  	
				  </div>
				  <div class="tab-pane" id="mscstats">
				  	
				  		<div id="q"></div>
				  	
				  </div>
				 
				</div>
			
			</div>
			<div class="modal-footer">
				<a href="#" class="btn btn-primary">Continue presentation</a>
			</div>
		</div>
		
	<script>
        window.onload = function() {
        	$('#quest').modal('show');
        }
    </script>
	<script>
		$(function() {
			$('#myTab a:last').tab('show');
		})
	</script>
	</body>
</html>